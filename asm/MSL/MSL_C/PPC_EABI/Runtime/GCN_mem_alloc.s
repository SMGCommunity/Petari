.text

.include "macros.inc"

.global __sys_free
__sys_free:
/* 80517C38 00513178  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80517C3C 0051317C  7C 08 02 A6 */	mflr r0
/* 80517C40 00513180  90 01 00 24 */	stw r0, 0x24(r1)
/* 80517C44 00513184  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80517C48 00513188  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80517C4C 0051318C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80517C50 00513190  7C 7D 1B 78 */	mr r29, r3
/* 80517C54 00513194  80 0D 93 F8 */	lwz r0, lbl_8069E098-_SDA_BASE_(r13)
/* 80517C58 00513198  2C 00 FF FF */	cmpwi r0, -1
/* 80517C5C 0051319C  40 82 00 6C */	bne lbl_80517CC8
/* 80517C60 005131A0  3F E0 80 55 */	lis r31, lbl_8054DC18@ha
/* 80517C64 005131A4  38 7F DC 18 */	addi r3, r31, lbl_8054DC18@l
/* 80517C68 005131A8  4C C6 31 82 */	crclr 6
/* 80517C6C 005131AC  4B F8 C2 29 */	bl OSReport
/* 80517C70 005131B0  38 7F DC 18 */	addi r3, r31, -9192
/* 80517C74 005131B4  38 63 00 36 */	addi r3, r3, 0x36
/* 80517C78 005131B8  4C C6 31 82 */	crclr 6
/* 80517C7C 005131BC  4B F8 C2 19 */	bl OSReport
/* 80517C80 005131C0  4B F8 AD 41 */	bl OSGetArenaLo
/* 80517C84 005131C4  7C 7E 1B 78 */	mr r30, r3
/* 80517C88 005131C8  4B F8 AD 21 */	bl OSGetArenaHi
/* 80517C8C 005131CC  7C 7F 1B 78 */	mr r31, r3
/* 80517C90 005131D0  7F C3 F3 78 */	mr r3, r30
/* 80517C94 005131D4  7F E4 FB 78 */	mr r4, r31
/* 80517C98 005131D8  38 A0 00 01 */	li r5, 1
/* 80517C9C 005131DC  4B F8 AC 21 */	bl OSInitAlloc
/* 80517CA0 005131E0  7C 7E 1B 78 */	mr r30, r3
/* 80517CA4 005131E4  4B F8 AD 4D */	bl OSSetArenaLo
/* 80517CA8 005131E8  38 1E 00 1F */	addi r0, r30, 0x1f
/* 80517CAC 005131EC  57 FE 00 34 */	rlwinm r30, r31, 0, 0, 0x1a
/* 80517CB0 005131F0  7F C4 F3 78 */	mr r4, r30
/* 80517CB4 005131F4  54 03 00 34 */	rlwinm r3, r0, 0, 0, 0x1a
/* 80517CB8 005131F8  4B F8 AC 75 */	bl OSCreateHeap
/* 80517CBC 005131FC  4B F8 AB F1 */	bl OSSetCurrentHeap
/* 80517CC0 00513200  7F C3 F3 78 */	mr r3, r30
/* 80517CC4 00513204  4B F8 AD 2D */	bl OSSetArenaLo
lbl_80517CC8:
/* 80517CC8 00513208  80 6D 93 F8 */	lwz r3, lbl_8069E098-_SDA_BASE_(r13)
/* 80517CCC 0051320C  7F A4 EB 78 */	mr r4, r29
/* 80517CD0 00513210  4B F8 AB 65 */	bl OSFreeToHeap
/* 80517CD4 00513214  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80517CD8 00513218  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80517CDC 0051321C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80517CE0 00513220  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80517CE4 00513224  7C 08 03 A6 */	mtlr r0
/* 80517CE8 00513228  38 21 00 20 */	addi r1, r1, 0x20
/* 80517CEC 0051322C  4E 80 00 20 */	blr 
