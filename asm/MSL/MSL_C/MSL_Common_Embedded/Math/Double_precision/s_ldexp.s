.text

.include "macros.inc"

.global ldexp
ldexp:
/* 80526B58 00522098  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80526B5C 0052209C  7C 08 02 A6 */	mflr r0
/* 80526B60 005220A0  90 01 00 24 */	stw r0, 0x24(r1)
/* 80526B64 005220A4  DB E1 00 18 */	stfd f31, 0x18(r1)
/* 80526B68 005220A8  FF E0 08 90 */	fmr f31, f1
/* 80526B6C 005220AC  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80526B70 005220B0  7C 7F 1B 78 */	mr r31, r3
/* 80526B74 005220B4  D8 21 00 08 */	stfd f1, 8(r1)
/* 80526B78 005220B8  4B FF 40 51 */	bl __fpclassifyd
/* 80526B7C 005220BC  2C 03 00 02 */	cmpwi r3, 2
/* 80526B80 005220C0  40 81 00 10 */	ble lbl_80526B90
/* 80526B84 005220C4  C8 02 2C 88 */	lfd f0, lbl_806ADF08-_SDA2_BASE_(r2)
/* 80526B88 005220C8  FC 00 F8 00 */	fcmpu cr0, f0, f31
/* 80526B8C 005220CC  40 82 00 0C */	bne lbl_80526B98
lbl_80526B90:
/* 80526B90 005220D0  FC 20 F8 90 */	fmr f1, f31
/* 80526B94 005220D4  48 00 01 18 */	b lbl_80526CAC
lbl_80526B98:
/* 80526B98 005220D8  80 A1 00 08 */	lwz r5, 8(r1)
/* 80526B9C 005220DC  80 61 00 0C */	lwz r3, 0xc(r1)
/* 80526BA0 005220E0  54 A4 65 7F */	rlwinm. r4, r5, 0xc, 0x15, 0x1f
/* 80526BA4 005220E4  40 82 00 4C */	bne lbl_80526BF0
/* 80526BA8 005220E8  54 A0 00 7E */	clrlwi r0, r5, 1
/* 80526BAC 005220EC  7C 60 03 79 */	or. r0, r3, r0
/* 80526BB0 005220F0  40 82 00 0C */	bne lbl_80526BBC
/* 80526BB4 005220F4  FC 20 F8 90 */	fmr f1, f31
/* 80526BB8 005220F8  48 00 00 F4 */	b lbl_80526CAC
lbl_80526BBC:
/* 80526BBC 005220FC  C8 02 2C 90 */	lfd f0, lbl_806ADF10-_SDA2_BASE_(r2)
/* 80526BC0 00522100  3C 60 FF FF */	lis r3, 0xFFFF3CB0@ha
/* 80526BC4 00522104  38 03 3C B0 */	addi r0, r3, 0xFFFF3CB0@l
/* 80526BC8 00522108  FF FF 00 32 */	fmul f31, f31, f0
/* 80526BCC 0052210C  7C 1F 00 00 */	cmpw r31, r0
/* 80526BD0 00522110  DB E1 00 08 */	stfd f31, 8(r1)
/* 80526BD4 00522114  80 A1 00 08 */	lwz r5, 8(r1)
/* 80526BD8 00522118  54 A3 65 7E */	rlwinm r3, r5, 0xc, 0x15, 0x1f
/* 80526BDC 0052211C  38 83 FF CA */	addi r4, r3, -54
/* 80526BE0 00522120  40 80 00 10 */	bge lbl_80526BF0
/* 80526BE4 00522124  C8 02 2C 98 */	lfd f0, lbl_806ADF18-_SDA2_BASE_(r2)
/* 80526BE8 00522128  FC 20 07 F2 */	fmul f1, f0, f31
/* 80526BEC 0052212C  48 00 00 C0 */	b lbl_80526CAC
lbl_80526BF0:
/* 80526BF0 00522130  2C 04 07 FF */	cmpwi r4, 0x7ff
/* 80526BF4 00522134  40 82 00 0C */	bne lbl_80526C00
/* 80526BF8 00522138  FC 3F F8 2A */	fadd f1, f31, f31
/* 80526BFC 0052213C  48 00 00 B0 */	b lbl_80526CAC
lbl_80526C00:
/* 80526C00 00522140  7C 84 FA 14 */	add r4, r4, r31
/* 80526C04 00522144  2C 04 07 FE */	cmpwi r4, 0x7fe
/* 80526C08 00522148  40 81 00 1C */	ble lbl_80526C24
/* 80526C0C 0052214C  FC 40 F8 90 */	fmr f2, f31
/* 80526C10 00522150  C8 22 2C A0 */	lfd f1, lbl_806ADF20-_SDA2_BASE_(r2)
/* 80526C14 00522154  4B FF FC 79 */	bl copysign
/* 80526C18 00522158  C8 02 2C A0 */	lfd f0, lbl_806ADF20-_SDA2_BASE_(r2)
/* 80526C1C 0052215C  FC 20 00 72 */	fmul f1, f0, f1
/* 80526C20 00522160  48 00 00 8C */	b lbl_80526CAC
lbl_80526C24:
/* 80526C24 00522164  2C 04 00 00 */	cmpwi r4, 0
/* 80526C28 00522168  40 81 00 1C */	ble lbl_80526C44
/* 80526C2C 0052216C  54 A3 03 00 */	rlwinm r3, r5, 0, 0xc, 0
/* 80526C30 00522170  54 80 A0 16 */	slwi r0, r4, 0x14
/* 80526C34 00522174  7C 60 03 78 */	or r0, r3, r0
/* 80526C38 00522178  90 01 00 08 */	stw r0, 8(r1)
/* 80526C3C 0052217C  C8 21 00 08 */	lfd f1, 8(r1)
/* 80526C40 00522180  48 00 00 6C */	b lbl_80526CAC
lbl_80526C44:
/* 80526C44 00522184  2C 04 FF CA */	cmpwi r4, -54
/* 80526C48 00522188  41 81 00 44 */	bgt lbl_80526C8C
/* 80526C4C 0052218C  3C 60 00 01 */	lis r3, 0x0000C350@ha
/* 80526C50 00522190  38 03 C3 50 */	addi r0, r3, 0x0000C350@l
/* 80526C54 00522194  7C 1F 00 00 */	cmpw r31, r0
/* 80526C58 00522198  40 81 00 1C */	ble lbl_80526C74
/* 80526C5C 0052219C  FC 40 F8 90 */	fmr f2, f31
/* 80526C60 005221A0  C8 22 2C A0 */	lfd f1, lbl_806ADF20-_SDA2_BASE_(r2)
/* 80526C64 005221A4  4B FF FC 29 */	bl copysign
/* 80526C68 005221A8  C8 02 2C A0 */	lfd f0, lbl_806ADF20-_SDA2_BASE_(r2)
/* 80526C6C 005221AC  FC 20 00 72 */	fmul f1, f0, f1
/* 80526C70 005221B0  48 00 00 3C */	b lbl_80526CAC
lbl_80526C74:
/* 80526C74 005221B4  FC 40 F8 90 */	fmr f2, f31
/* 80526C78 005221B8  C8 22 2C 98 */	lfd f1, lbl_806ADF18-_SDA2_BASE_(r2)
/* 80526C7C 005221BC  4B FF FC 11 */	bl copysign
/* 80526C80 005221C0  C8 02 2C 98 */	lfd f0, lbl_806ADF18-_SDA2_BASE_(r2)
/* 80526C84 005221C4  FC 20 00 72 */	fmul f1, f0, f1
/* 80526C88 005221C8  48 00 00 24 */	b lbl_80526CAC
lbl_80526C8C:
/* 80526C8C 005221CC  38 04 00 36 */	addi r0, r4, 0x36
/* 80526C90 005221D0  54 A3 03 00 */	rlwinm r3, r5, 0, 0xc, 0
/* 80526C94 005221D4  54 00 A0 16 */	slwi r0, r0, 0x14
/* 80526C98 005221D8  C8 22 2C A8 */	lfd f1, lbl_806ADF28-_SDA2_BASE_(r2)
/* 80526C9C 005221DC  7C 60 03 78 */	or r0, r3, r0
/* 80526CA0 005221E0  90 01 00 08 */	stw r0, 8(r1)
/* 80526CA4 005221E4  C8 01 00 08 */	lfd f0, 8(r1)
/* 80526CA8 005221E8  FC 21 00 32 */	fmul f1, f1, f0
lbl_80526CAC:
/* 80526CAC 005221EC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80526CB0 005221F0  CB E1 00 18 */	lfd f31, 0x18(r1)
/* 80526CB4 005221F4  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80526CB8 005221F8  7C 08 03 A6 */	mtlr r0
/* 80526CBC 005221FC  38 21 00 20 */	addi r1, r1, 0x20
/* 80526CC0 00522200  4E 80 00 20 */	blr 
